(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1020:function(t,e,a){"use strict";var i={name:"LoaderScoped"},o=(a(1120),a(279)),r={components:{LoaderScoped:Object(o.a)(i,(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loader-container absolute"},[e("div",{staticClass:"loader-inner-container absolute"},[e("div",{staticClass:"spinner relative"},[e("div",{staticClass:"double-bounce1 absolute w-100 brdr-circle"}),this._v(" "),e("div",{staticClass:"double-bounce2 absolute w-100 brdr-circle"})])])])}],!1,null,"15f6aac3",null).exports},mixins:[{name:"ProductVideo",props:{url:{type:String,required:!0},id:{type:String,required:!0},type:{type:String,required:!0},index:{type:Number,required:!1,default:0}},data:function(){return{videoStarted:!1,iframeLoaded:!1}},methods:{initVideo:function(){this.videoStarted=!0,this.$emit("video-started",this.index)},iframeIsLoaded:function(){this.iframeLoaded=!0}},computed:{embedUrl:function(){switch(this.type){case"youtube":return"https://www.youtube.com/embed/"+this.id+"?autoplay=1";case"vimeo":return"https://player.vimeo.com/video/"+this.id+"?autoplay=1"}}}}]},n=(a(1122),Object(o.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"product-video absolute w-100 h-100 flex"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.videoStarted,expression:"!videoStarted"}],staticClass:"gallery-video absolute w-100 h-100",on:{click:function(e){return e.stopPropagation(),t.initVideo(e)}}},[a("i",{staticClass:"material-icons absolute"},[t._v("play_circle_outline")])]),t._v(" "),t.videoStarted?a("div",{staticClass:"iframe-wrapper absolute w-100"},[t.iframeLoaded?t._e():a("LoaderScoped"),t._v(" "),a("div",{staticClass:"iframe-container w-100"},[a("iframe",{staticClass:"absolute w-100 h-100",attrs:{src:t.embedUrl,allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",webkitallowfullscreen:"",mozallowfullscreen:"",allowfullscreen:""},on:{load:function(e){return t.iframeIsLoaded()}}})])],1):t._e()])}),[],!1,null,"3696eda7",null));e.a=n.exports},1042:function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));var i=a(2),o=a(7),r=a(40),n=a(0),s={name:"ProductTile",props:{product:{type:Object,required:!0}},data:function(){return{clicks:0,placeholder:"/assets/placeholder.jpg"}},computed:{productLink:function(){return Object(r.b)(this.product,Object(o.b)().storeCode)},thumbnail:function(){var t=Object(i.k)(this.product);return this.getThumbnail(t,n.products.thumbnails.width,n.products.thumbnails.height)},thumbnailObj:function(){return{src:this.thumbnail,loading:this.placeholder,error:this.placeholder}},isOnSale:function(){return[!0,"1"].includes(this.product.sale)?"sale":""},isNew:function(){return[!0,"1"].includes(this.product.new)?"new":""}}}},1043:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));var i=a(357),o=a(853),r=a(36),n={name:"IsOnCompare",mixins:[o.a],props:{product:{required:!0,type:Object}},created:function(){Object(r.c)(i.a)},computed:{isOnCompare:function(){return this.$store.getters["compare/isOnCompare"](this.product)}}}},1060:function(t,e,a){"use strict";var i=a(160),o=a(902),r=a(282),n=a(749),s=a(36),c={name:"AddToWishlist",mixins:[n.a],props:{product:{required:!0,type:Object}},created:function(){Object(s.c)(r.a)},methods:{addToWishlist:function(t){return!!this.$store.state.wishlist&&this.$store.dispatch("wishlist/addItem",t)}}},d={name:"RemoveFromWishlist",mixins:[n.a],props:{product:{required:!0,type:Object}},methods:{removeFromWishlist:function(t){Object(s.c)(r.a),this.$store.dispatch("wishlist/removeItem",t)}}},l=a(10);a(852);function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function p(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach((function(e){f(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function f(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var m={mixins:[o.a,c,d],computed:p(p({},Object(i.c)({isLogin:"user/isLoggedIn"})),{},{favoriteIcon:function(){return this.isOnWishlist?"icon-icon_heart_active":"icon-icon_heart_border"}}),methods:{addProductToWhishlist:function(t){var e,a,i;if(this.checkIsLogin()){var o;if(null===(o=this.$gtm)||void 0===o?void 0:o.enabled())switch(this.typeIn){case"product":null===(e=window.dataLayer)||void 0===e||e.push({event:"click-ga",eventCategory:"AddToList",eventAction:"AddToList_Prod",eventLabel:t.name});break;case"related":null===(a=window.dataLayer)||void 0===a||a.push({event:"click-ga",eventCategory:"AddToList",eventAction:"AddToList_Correlation",eventLabel:t.name});break;default:null===(i=window.dataLayer)||void 0===i||i.push({event:"click-ga",eventCategory:"AddToList",eventAction:"AddToList_Search",eventLabel:t.name})}this.$store.dispatch("notification/spawnNotification",{type:"tree-info",icon:"icon-icon_check",message:"已加入收藏"},{root:!0}),this.addToWishlist(t)}},checkIsLogin:function(){return!!this.isLogin||(this.$router.push({name:"into-mbs-login",params:{currentUrl:this.$route.path}}),!1)},removeProductFromWhishList:function(t){this.$store.dispatch("notification/spawnNotification",{type:"success",message:"確定取消收藏嗎?",action1:{label:l.a.t("OK"),action:this.removeNotification,params:t},action2:{label:l.a.t("Cancel")},hasNoTimeout:!0},{root:!0})},removeNotification:function(t){var e,a,i;if(null===(e=this.$gtm)||void 0===e?void 0:e.enabled())switch(this.typeIn){case"product":null===(a=window.dataLayer)||void 0===a||a.push({event:"click-ga",eventCategory:"CancelToList",eventAction:"CancelToList_Prod",eventLabel:t.name});break;default:null===(i=window.dataLayer)||void 0===i||i.push({event:"click-ga",eventCategory:"CancelToList",eventAction:"CancelToList_List",eventLabel:t.name})}this.$store.dispatch("notification/spawnNotification",{type:"tree-info",icon:"icon-icon_check",message:"已取消收藏"},{root:!0}),this.removeFromWishlist(t)}},props:{typeIn:{type:[String,Boolean],default:!1}}},h=(a(1124),a(279)),v=Object(h.a)(m,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"p0 inline-flex middle-xs bg-cl-transparent brdr-none action h5 pointer cl-secondary",attrs:{type:"button","data-testid":"addToWishlist"},on:{click:function(e){e.stopPropagation(),t.isOnWishlist?t.removeProductFromWhishList(t.product):t.addProductToWhishlist(t.product)}}},[t._t("default",[a("i",{staticClass:"mr10",class:t.favoriteIcon}),t._v(" "),a("div",{staticClass:"hidden-md hidden-sm hidden-xs"},[t.isOnWishlist?a("span",[t._v("\n        取消收藏\n      ")]):a("span",[t._v("\n        加入收藏\n      ")])]),t._v(" "),a("div",{staticClass:"hidden-xl hidden-lg"},[t.isOnWishlist?a("span",[t._v("\n        取消\n      ")]):a("span",[t._v("\n        收藏\n      ")])])])],2)}),[],!1,null,"2b3162b6",null);e.a=v.exports},1120:function(t,e,a){"use strict";var i=a(900);a.n(i).a},1121:function(t,e,a){(t.exports=a(738)(!1)).push([t.i,".loader-container[data-v-15f6aac3]{z-index:1001;top:0;left:0;bottom:0;right:0;background-color:rgba(0,0,0,0.65)}.loader-inner-container[data-v-15f6aac3]{left:50%;top:50%;-webkit-transform:translateY(-50%) translateX(-50%);-ms-transform:translateY(-50%) translateX(-50%);transform:translateY(-50%) translateX(-50%)}.loader-message-container[data-v-15f6aac3]{background-color:rgba(251,156,68,0.75);border-radius:50px;letter-spacing:0.5px}.spinner[data-v-15f6aac3]{width:40px;height:40px;margin:0 auto}.double-bounce1[data-v-15f6aac3],.double-bounce2[data-v-15f6aac3]{height:100%;opacity:0.6;top:0;left:0;-webkit-animation:sk-bounce-data-v-15f6aac3 2s infinite ease-in-out;animation:sk-bounce-data-v-15f6aac3 2s infinite ease-in-out}.double-bounce2[data-v-15f6aac3]{-webkit-animation-delay:-1s;animation-delay:-1s}@-webkit-keyframes sk-bounce-data-v-15f6aac3{0%,100%{-webkit-transform:scale(0)}50%{-webkit-transform:scale(1)}}@keyframes sk-bounce-data-v-15f6aac3{0%,100%{transform:scale(0);-webkit-transform:scale(0)}50%{transform:scale(1);-webkit-transform:scale(1)}}\n",""])},1122:function(t,e,a){"use strict";var i=a(901);a.n(i).a},1123:function(t,e,a){(t.exports=a(738)(!1)).push([t.i,".product-video[data-v-3696eda7]{-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.product-video .gallery-video[data-v-3696eda7]{top:0}.product-video .gallery-video>.material-icons[data-v-3696eda7]{left:0;right:0;color:#fff;font-size:70px;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);-webkit-transition:-webkit-transform ease 0.3s;transition:-webkit-transform ease 0.3s;-o-transition:transform ease 0.3s;transition:transform ease 0.3s;transition:transform ease 0.3s, -webkit-transform ease 0.3s}.product-video .gallery-video[data-v-3696eda7]:hover{cursor:pointer}.product-video .gallery-video:hover>.material-icons[data-v-3696eda7]{-webkit-transform:translateY(-50%) scale(1.1);-ms-transform:translateY(-50%) scale(1.1);transform:translateY(-50%) scale(1.1)}.product-video .iframe-wrapper[data-v-3696eda7]{left:0}.product-video .iframe-wrapper .iframe-container[data-v-3696eda7]{padding-top:56.25%}.product-video .iframe-wrapper .iframe-container iframe[data-v-3696eda7]{top:0;left:0;border:none}\n",""])},1124:function(t,e,a){"use strict";var i=a(903);a.n(i).a},1125:function(t,e,a){(t.exports=a(738)(!1)).push([t.i,'span[data-v-2b3162b6]{font-size:14px;color:#959595}@media (max-width: 992px){span[data-v-2b3162b6]{font-size:12px}}.action[data-v-2b3162b6]{color:#4C4C4C}.action[data-v-2b3162b6]:hover{color:#ff6b50}.action:hover i[data-v-2b3162b6]:before{content:"\\E907";color:#ff6b50}\n',""])},1126:function(t,e,a){"use strict";var i=a(904);a.n(i).a},1127:function(t,e,a){(t.exports=a(738)(!1)).push([t.i,".fade-enter-active[data-v-369dabcf]{-webkit-transition:opacity .25s;-o-transition:opacity .25s;transition:opacity .25s}.fade-leave-active[data-v-369dabcf]{-webkit-transition:opacity .2s;-o-transition:opacity .2s;transition:opacity .2s}.fade-enter[data-v-369dabcf],.fade-leave-to[data-v-369dabcf]{opacity:0}.fade-in-down-enter-active[data-v-369dabcf],.fade-in-up-enter-active[data-v-369dabcf]{-webkit-transition:all .25s cubic-bezier(0.4, 0, 0.2, 1);-o-transition:all .25s cubic-bezier(0.4, 0, 0.2, 1);transition:all .25s cubic-bezier(0.4, 0, 0.2, 1)}.fade-in-down-leave-active[data-v-369dabcf],.fade-in-up-leave-active[data-v-369dabcf]{-webkit-transition:all .2s cubic-bezier(0.4, 0, 1, 1);-o-transition:all .2s cubic-bezier(0.4, 0, 1, 1);transition:all .2s cubic-bezier(0.4, 0, 1, 1)}.fade-in-down-enter[data-v-369dabcf],.fade-in-down-leave-to[data-v-369dabcf],.fade-in-up-enter[data-v-369dabcf],.fade-in-up-leave-to[data-v-369dabcf]{opacity:0}.fade-in-down-enter[data-v-369dabcf],.fade-in-down-leave-to[data-v-369dabcf]{-webkit-transform:translateY(-100%);-ms-transform:translateY(-100%);transform:translateY(-100%)}.fade-in-up-enter[data-v-369dabcf],.fade-in-up-leave-to[data-v-369dabcf]{-webkit-transform:translateY(100%);-ms-transform:translateY(100%);transform:translateY(100%)}.list-mode[data-v-369dabcf]{display:-ms-flexbox;display:flex;height:150px}.list-mode[data-v-369dabcf] .product-cover__thumb{width:150px}.list-mode[data-v-369dabcf] .product-cover__thumb img{border-radius:5px 0px 0px 5px !important}.list-mode .card-content[data-v-369dabcf]{-ms-flex-preferred-size:calc(100% - 150px);flex-basis:calc(100% - 150px)}.list-mode[data-v-369dabcf] .product-video{width:150px;padding-bottom:0}.product[data-v-369dabcf]{position:relative;-webkit-box-shadow:0px 3px 6px #00000029;box-shadow:0px 3px 6px #00000029;border-radius:5px}.product__icons[data-v-369dabcf]{position:absolute;bottom:0;right:0;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding-right:10px;padding-bottom:10px}.product__icon[data-v-369dabcf]{padding-top:10px;opacity:1;z-index:2;-webkit-transition:0.3s opacity cubic-bezier(0.4, 0, 0.2, 1);-o-transition:0.3s opacity cubic-bezier(0.4, 0, 0.2, 1);transition:0.3s opacity cubic-bezier(0.4, 0, 0.2, 1)}@media (max-width: 767px){.product__icon[data-v-369dabcf]{opacity:1}}.product__icon--active[data-v-369dabcf]{opacity:1}.product .product-link[data-v-369dabcf]{cursor:pointer}.card-content[data-v-369dabcf]{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between}.card-content .sub-title[data-v-369dabcf]{overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap;text-align:left;color:#F08441;font-size:12px;line-height:18px;min-height:20px}.card-content .product-title[data-v-369dabcf]{min-height:40px}.card-content .prices[data-v-369dabcf]{text-align:left;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:end;align-items:flex-end;height:45px}.price-original[data-v-369dabcf]{text-decoration:line-through;font-size:12px;color:#959595}.product-cover.sale[data-v-369dabcf]::after,.product-cover.new[data-v-369dabcf]::after{position:absolute;top:0;left:0;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;width:40px;height:40px;background-color:#e0e0e0;text-transform:uppercase;color:#fff;font-size:12px}.product-cover[data-v-369dabcf]{overflow:hidden}.product-cover .product-cover__thumb[data-v-369dabcf]{border-radius:5px 5px 0px 0px}.product-cover .product-cover__thumb[data-v-369dabcf] img{border-radius:5px 5px 0px 0px}.product-cover__thumb[data-v-369dabcf]{padding-bottom:calc(143.88% / (164.5 / 100));opacity:0.8;will-change:opacity, transform;-webkit-transition:0.3s opacity cubic-bezier(0.4, 0, 0.2, 1),0.3s -webkit-transform cubic-bezier(0.4, 0, 0.2, 1);transition:0.3s opacity cubic-bezier(0.4, 0, 0.2, 1),0.3s -webkit-transform cubic-bezier(0.4, 0, 0.2, 1);-o-transition:0.3s opacity cubic-bezier(0.4, 0, 0.2, 1),0.3s transform cubic-bezier(0.4, 0, 0.2, 1);transition:0.3s opacity cubic-bezier(0.4, 0, 0.2, 1),0.3s transform cubic-bezier(0.4, 0, 0.2, 1);transition:0.3s opacity cubic-bezier(0.4, 0, 0.2, 1),0.3s transform cubic-bezier(0.4, 0, 0.2, 1),0.3s -webkit-transform cubic-bezier(0.4, 0, 0.2, 1)}@media screen and (min-width: 768px){.product-cover__thumb[data-v-369dabcf]{padding-bottom:calc(300% / (276.5 / 115))}}@media screen and (min-width: 768px){.product-cover:hover .product-cover__thumb[data-v-369dabcf]{opacity:1;-webkit-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1)}.product-cover:hover.sale[data-v-369dabcf]::after,.product-cover:hover.new[data-v-369dabcf]::after{opacity:0.8}}.product-cover.sale[data-v-369dabcf]::after{content:'Sale'}.product-cover.new[data-v-369dabcf]::after{content:'New'}.product-cover .is-aduit-mask[data-v-369dabcf]{position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(76,76,76,0.8);z-index:1}.product-cover .is-aduit-mask span[data-v-369dabcf]{color:#fff;font-size:12px;line-height:18px}.product-cover .is-aduit-mask img[data-v-369dabcf]{display:block;margin-bottom:10px;width:40px}.product-cover .is-out-stock-mask[data-v-369dabcf]{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%, -50%);-ms-transform:translate(-50%, -50%);transform:translate(-50%, -50%);width:70px;height:70px;background:rgba(76,76,76,0.8);z-index:1;border-radius:99999px}.product-cover .is-out-stock-mask span[data-v-369dabcf]{color:#fff;font-size:12px;line-height:18px}[data-v-369dabcf] .product__icon{position:relative}[data-v-369dabcf] .product-video{position:relative;padding-bottom:100%}[data-v-369dabcf] .product-video .iframe-wrapper{top:0;bottom:0}.video-thumb[data-v-369dabcf]{position:absolute}.video-thumb[data-v-369dabcf] .product-image__thumb{position:absolute;-o-object-fit:cover;object-fit:cover;width:100%;height:100%;top:0;left:0;right:0;bottom:0}\n",""])},751:function(t,e,a){var i=a(807);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a(739).default)("3eb2a3de",i,!0,{})},754:function(t,e,a){"use strict";var i=a(2),o={props:{calcRatio:{type:Boolean,default:!0},image:{type:Object,default:function(){return{src:"",loading:""}}},alt:{type:String,default:""}},data:function(){return{lowerQualityImage:!1,lowerQualityImageError:!1,highQualityImage:!1,highQualityImageError:!1,basic:!0}},watch:{lowerQualityImage:function(t){t&&(this.basic=this.$refs.lQ.naturalWidth<this.$refs.lQ.naturalHeight)}},computed:{showPlaceholder:function(){return!this.showLowerQuality&&!this.showHighQuality},showLowerQuality:function(){return this.lowerQualityImage&&!this.showHighQuality},showHighQuality:function(){return this.highQualityImage},imageRatio:function(){var t=this.$store.state.config.products.gallery,e=t.width,a=t.height;return"".concat(a/(e/100),"%")},style:function(){return this.calcRatio?{paddingBottom:this.imageRatio}:{}},isOnline:function(t){return i.g.isOnline}},methods:{imageLoaded:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this["".concat(t,"QualityImage")]=e,this["".concat(t,"QualityImageError")]=!e}}},r=(a(806),a(279)),n=Object(r.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._g({staticClass:"product-image",class:{"product-image--height":t.basic,"product-image--width":!t.basic},staticStyle:{"padding-bottom":"100%"}},t.$listeners),[a("img",{directives:[{name:"show",rawName:"v-show",value:t.showPlaceholder,expression:"showPlaceholder"}],staticClass:"product-image__placeholder",attrs:{src:"/assets/treebuy/placeholder.jpg",alt:t.alt}}),t._v(" "),!t.lowerQualityImageError||t.isOnline?a("img",{directives:[{name:"show",rawName:"v-show",value:t.showLowerQuality,expression:"showLowerQuality"},{name:"lazy",rawName:"v-lazy",value:t.image.loading,expression:"image.loading"}],ref:"lQ",staticClass:"product-image__thumb",attrs:{alt:t.alt},on:{load:function(e){return t.imageLoaded("lower",!0)},error:function(e){return t.imageLoaded("lower",!1)}}}):t._e(),t._v(" "),!t.highQualityImageError||t.isOnline?a("img",{directives:[{name:"show",rawName:"v-show",value:t.showHighQuality,expression:"showHighQuality"},{name:"lazy",rawName:"v-lazy",value:t.image.src,expression:"image.src"}],staticClass:"product-image__thumb",attrs:{alt:t.alt},on:{load:function(e){return t.imageLoaded("high",!0)},error:function(e){return t.imageLoaded("high",!1)}}}):t._e()])}),[],!1,null,"9e34f4a4",null);e.a=n.exports},773:function(t,e,a){"use strict";var i=a(3),o=a(1042),r=a(42),n=a.n(r),s=a(0),c=a(754),d=a(1020),l=a(1060),u=a(902),p=a(1043),f=a(7);function m(t,e,a,i,o,r,n){try{var s=t[r](n),c=s.value}catch(t){return void a(t)}s.done?e(c):Promise.resolve(c).then(i,o)}function h(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return v(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return v(t,e)}(t))){var e=0,a=function(){};return{s:a,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o,r=!0,n=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return r=t.done,t},e:function(t){n=!0,o=t},f:function(){try{r||null==i.return||i.return()}finally{if(n)throw o}}}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}var b={mixins:[o.a,u.a,p.a],data:function(){return{stockStatus:!0}},components:{ProductImage:c.a,AddToWishlist:l.a,ProductVideo:d.a},props:{labelsActive:{type:Boolean,default:!0},onlyImage:{type:Boolean,default:!1},listMode:{type:Boolean,default:!1},positionIndex:{type:Number,default:0},cartType:{type:[String,Boolean],default:!1}},computed:{mainProductFirstImage:function(){var t,e,a;if(!this.product.images)return this.thumbnailObj;var i=JSON.parse(this.product.images);if(!i)return this.thumbnailObj;switch(null===(t=i[0])||void 0===t?void 0:t.media_type){case"image":var o=null===(e=i[0])||void 0===e?void 0:e.url;return{src:o,loading:o,type:"image"};case"video":var r=null===(a=i[0])||void 0===a?void 0:a.url,n=r.indexOf("?v="),s=r.substr(n+3);return{url:r,id:s,type:"youtube",videoThumb:{error:"https://img.youtube.com/vi/".concat(s,"/hqdefault.jpg"),loading:"https://img.youtube.com/vi/".concat(s,"/hqdefault.jpg"),src:"https://img.youtube.com/vi/".concat(s,"/hqdefault.jpg")}};default:return this.thumbnailObj}},thumbnailObj:function(){return{src:this.thumbnail,loading:this.thumbnail,type:"image"}},favoriteIcon:function(){return this.isOnWishlist?"icon-icon_heart_active":"icon-icon_heart_border"},storeView:function(){return Object(f.b)()},sss:function(){return this.isOnWishlist}},methods:{goToProductLink:function(t){if("1"===this.product.is_audit)this.$store.dispatch("notification/spawnNotification",{type:"warning",img:"/assets/treebuy/icon_only18.png",title:"此為18禁商品，請確認您已滿18歲",action1:{label:"關閉",action:"close"},action2:{label:"確認",action:this.routerPush,params:t},hasNoTimeout:!0});else{var e,a,i,o,r,n;if(null===(e=this.$gtm)||void 0===e?void 0:e.enabled())if("related"===this.cartType)null===(a=window.dataLayer)||void 0===a||a.push({event:"click-ga",eventCategory:"CorrelationSelection",eventAction:"CorrelationSelection_Prod_".concat(this.positionIndex+1),eventLabel:this.product.name});else null===(i=window.dataLayer)||void 0===i||i.push({event:"click-ga",eventCategory:"SearchSelection",eventAction:"SearchSelection_".concat(this.positionIndex+1),eventLabel:this.product.name}),null===(o=window.dataLayer)||void 0===o||o.push({ecommerce:null}),null===(r=window.dataLayer)||void 0===r||r.push({event:"productClick",ecommerce:{click:{actionField:{list:"搜尋結果頁"},products:[{name:this.product.name,id:this.product.product_id,price:this.product.final_price?this.product.final_price:this.product.original_special_price,brand:this.product.brand,category:null===(n=this.product.category[0])||void 0===n?void 0:n.name,position:this.positionIndex+1,metric2:this.product.final_price?this.product.final_price:this.product.original_special_price,metric3:0}]}}});this.routerPush(t)}},routerPush:function(t){this.$router.push({path:t})},onProductPriceUpdate:function(t){t.sku===this.product.sku&&Object.assign(this.product,t)},visibilityChanged:function(t,e){if(t&&s.products.configurableChildrenStockPrefetchDynamic&&s.products.filterUnavailableVariants&&"configurable"===this.product.type_id&&this.product.configurable_children&&this.product.configurable_children.length>0){var a,o=[this.product.sku],r=h(this.product.configurable_children);try{for(r.s();!(a=r.n()).done;){var n=a.value,c=i.a.state.stock.cache[n.id];null==c&&o.push(n.sku)}}catch(t){r.e(t)}finally{r.f()}o.length>0&&i.a.dispatch("stock/list",{skus:o})}}},mounted:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a={sku:e.product.product_id},n.a.post("".concat(s.api.url,"/api/product/configurableStock"),a).then((function(t){200===t.data.code&&(e.stockStatus=t.data.result.stock_item.is_in_stock)})).catch((function(t){console.log(t)}));case 2:case"end":return t.stop()}}),t)})),function(){var e=this,a=arguments;return new Promise((function(i,o){var r=t.apply(e,a);function n(t){m(r,i,o,n,s,"next",t)}function s(t){m(r,i,o,n,s,"throw",t)}n(void 0)}))})()},watch:{product:function(t){var e=this,a={sku:this.product.product_id};n.a.post("".concat(s.api.url,"/api/product/configurableStock"),a).then((function(t){200===t.data.code&&(e.stockStatus=t.data.result.stock_item.is_in_stock)})).catch((function(t){console.log(t)}))}},beforeMount:function(){this.$bus.$on("product-after-priceupdate",this.onProductPriceUpdate)},beforeDestroy:function(){this.$bus.$off("product-after-priceupdate",this.onProductPriceUpdate)}},g=(a(1126),a(279)),y=Object(g.a)(b,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.visibilityChanged,expression:"visibilityChanged"}],staticClass:"product align-center w-100 mb20"},[a("div",{staticClass:"block no-underline product-link",class:{"list-mode":t.listMode},attrs:{"data-testid":"productLink"},on:{click:function(e){return t.goToProductLink(t.productLink)}}},[a("div",{staticClass:"product-cover bg-cl-secondary relative",class:[{sale:t.labelsActive&&t.isOnSale},{new:t.labelsActive&&t.isNew}]},["1"===t.product.is_audit?a("div",{staticClass:"is-aduit-mask flex middle-xs center-xs flex-column"},[a("img",{attrs:{src:"/assets/treebuy/icon_only18.png"}}),t._v(" "),a("span",[t._v("十八禁商品")])]):t._e(),t._v(" "),t.stockStatus||"1"===t.product.is_audit?t._e():a("div",{staticClass:"is-out-stock-mask flex middle-xs center-xs flex-column"},[a("span",[t._v("售完")])]),t._v(" "),"image"===t.mainProductFirstImage.type?[a("product-image",{staticClass:"product-cover__thumb",attrs:{image:t.mainProductFirstImage,alt:t._f("htmlDecode")(t.product.name),"calc-ratio":!0,"data-testid":"productImage"}})]:[a("product-image",{staticClass:"product-cover__thumb video-thumb",attrs:{image:t.mainProductFirstImage.videoThumb,alt:t._f("htmlDecode")(t.product.name),"calc-ratio":!0,"data-testid":"productImage"}}),t._v(" "),a("ProductVideo",{attrs:{url:t.mainProductFirstImage.url,id:t.mainProductFirstImage.id,type:t.mainProductFirstImage.type}})]],2),t._v(" "),a("div",{staticClass:"card-content p10 relative"},[a("div",[t.product.subtitle?a("p",{staticClass:"sub-title mt0 mb3"},[t._v("\n          "+t._s(t.product.subtitle)+"\n        ")]):a("p",{staticClass:"sub-title mt0 mb3"},[t._v("\n           \n        ")]),t._v(" "),t.onlyImage?t._e():a("p",{staticClass:"product-title mt0 mb15 line-clame2",staticStyle:{"-webkit-box-orient":"vertical"}},[t._v("\n          "+t._s(t._f("htmlDecode")(t.product.name))+"\n        ")])]),t._v(" "),a("div",{staticClass:"prices"},[null!==t.product.regular_price?[t.product.original_special_price&&null!==t.product.original_special_price?[a("div",{staticClass:"flex flex-column"},[a("span",{staticClass:"h4 weight-700"},[t._v("\n                "+t._s(t._f("price")(t.product.original_special_price,t.storeView))+"\n              ")]),t._v(" "),a("span",{staticClass:"price-original"},[t._v("\n                "+t._s(t._f("price")(t.product.regular_price,t.storeView))+"\n              ")])])]:[a("div",{staticClass:"price-default h4 weight-700"},[t._v("\n              "+t._s(t._f("price")(t.product.regular_price,t.storeView))+"\n            ")])]]:t._e(),t._v(" "),a("div",{staticClass:"product__icons"},[a("AddToWishlist",{attrs:{product:t.product,typeIn:t.cartType}},[a("div",{staticClass:"product__icon",class:{"product__icon--active":t.isOnWishlist},attrs:{title:t.isOnWishlist?t.$t("Remove"):t.$t("Add to favorite")}},[a("i",{class:t.favoriteIcon})])])],1)],2)])])])}),[],!1,null,"369dabcf",null);e.a=y.exports},806:function(t,e,a){"use strict";var i=a(751);a.n(i).a},807:function(t,e,a){(t.exports=a(738)(!1)).push([t.i,".product-image[data-v-9e34f4a4]{position:relative;width:100%;max-width:100%;height:0;mix-blend-mode:multiply}.product-image__placeholder[data-v-9e34f4a4]{width:100%}.product-image--height .product-image__thumb[data-v-9e34f4a4]{height:100%}.product-image--width .product-image__thumb[data-v-9e34f4a4]{width:100%}.product-image img[data-v-9e34f4a4]{border-radius:3px}\n",""])},852:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var i=a(290),o=a.n(i);function r(t){return t?o()(t):""}},853:function(t,e,a){"use strict";e.a={mounted:function(){this.$store.dispatch("compare/load")}}},900:function(t,e,a){var i=a(1121);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a(739).default)("bd8269ae",i,!0,{})},901:function(t,e,a){var i=a(1123);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a(739).default)("a7de9a6c",i,!0,{})},902:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));var i=a(282),o=a(749),r=a(36),n={name:"isOnWishlist",mixins:[o.a],props:{product:{required:!0,type:Object}},created:function(){Object(r.c)(i.a)},computed:{isOnWishlist:function(){return this.$store.getters["wishlist/isOnWishlist"](this.product)}}}},903:function(t,e,a){var i=a(1125);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a(739).default)("0bcfd008",i,!0,{})},904:function(t,e,a){var i=a(1127);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a(739).default)("3d3a4e06",i,!0,{})}}]);
//# sourceMappingURL=vsf-cart~vsf-category~vsf-compare~vsf-home~vsf-my-account~vsf-not-found~vsf-product~vsf-search-panel.00a014a59d472f7d5d2d.js.map